<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>B F Marques Empreendimentos - Área do Cliente</title>
    <meta property="og:title" content="Área do Cliente - B F Marques Empreendimentos">
    <meta property="og:description" content="Acesse sua área exclusiva de cliente B F Marques Empreendimentos.">
    <meta property="og:image" content="https://bfmarquesempreendimentos.github.io/bfm/assets/images/logo-bf-marques.png">
    <meta property="og:url" content="https://bfmarquesempreendimentos.github.io/bfm/client-area.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="B F Marques Empreendimentos">
    <script>
      function toggleMobileMenu(){document.body.classList.toggle('mobile-menu-open');var i=document.querySelector('.nav-hamburger i');if(i){i.classList.toggle('fa-bars');i.classList.toggle('fa-times');}}
      function closeMobileMenu(){document.body.classList.remove('mobile-menu-open');var i=document.querySelector('.nav-hamburger i');if(i){i.classList.remove('fa-times');i.classList.add('fa-bars');}}
    </script>
    <link rel="stylesheet" href="styles/main.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="nav-overlay" onclick="closeMobileMenu()" aria-hidden="true"></div>
    <aside class="mobile-nav-panel" id="mobileNavPanel">
        <nav class="mobile-nav-menu">
            <ul>
                <li><a href="index.html#properties" onclick="closeMobileMenu()">Imóveis</a></li>
                <li><a href="index.html#simulador" onclick="closeMobileMenu()">Simulador</a></li>
                <li><a href="index.html#about" onclick="closeMobileMenu()">Sobre</a></li>
                <li><a href="calculadora.html" onclick="closeMobileMenu()">Calculadora dos Sonhos✨</a></li>
                <li><a href="mcmv.html" onclick="closeMobileMenu()">MCMV</a></li>
                <li><a href="contato.html" onclick="closeMobileMenu()">Fale Conosco</a></li>
            </ul>
        </nav>
        <div class="mobile-nav-actions">
            <a class="btn btn-client-area" href="client-area.html" onclick="closeMobileMenu()"><i class="fas fa-user-circle"></i> Área do Cliente</a>
            <button class="btn btn-login" onclick="openLoginModal(); closeMobileMenu();"><i class="fas fa-user"></i> Área do Corretor</button>
        </div>
    </aside>
    <header class="header">
        <div class="container">
            <a class="nav-brand" href="index.html#home" aria-label="Início">
                <img src="assets/images/logo-bf-marques.png" alt="B F Marques" class="brand-logo">
            </a>
            <button class="nav-hamburger" type="button" aria-label="Abrir menu" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
            <div class="nav-wrapper">
            <nav class="nav-menu">
                <ul>
                    <li><a href="index.html#properties">Imóveis</a></li>
                    <li><a href="index.html#simulador">Simulador</a></li>
                    <li><a href="index.html#about">Sobre</a></li>
                    <li><a href="calculadora.html">Calculadora dos Sonhos✨</a></li>
                    <li><a href="mcmv.html">MCMV</a></li>
                    <li><a href="contato.html">Fale Conosco</a></li>
                </ul>
            </nav>
            <div class="nav-actions">
                <a class="btn-client-area" href="client-area.html">
                    <i class="fas fa-user-circle"></i> Área do Cliente
                </a>
                <button class="btn-login" onclick="openLoginModal()">
                    <i class="fas fa-user"></i> Área do Corretor
                </button>
            </div>
            </div>
        </div>
    </header>

    <section class="page-hero">
        <div class="container">
            <h1>Área do Cliente</h1>
            <p>Acompanhe seu imóvel, documentos e solicitações em um só lugar.</p>
        </div>
    </section>

    <section class="client-page">
        <div class="container">
            <div class="client-page-panel">
                
            <div class="client-area-header">
                <h2><i class="fas fa-user-circle"></i> Área do Cliente</h2>
                <p>Gerencie suas informações e acompanhe seu imóvel</p>
            </div>
            <p class="client-area-hint" style="margin-top:10px;color:#666;font-size:0.9rem;">Use o email e a senha que enviamos para você no momento do registro da venda.</p>
            <div id="clientForgotTab" class="client-tab" style="display:none">
                <form id="clientForgotPasswordForm">
                    <h3><i class="fas fa-key"></i> Redefinir Senha</h3>
                    <p class="form-hint">Digite o email cadastrado. Enviaremos um link para redefinir sua senha.</p>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="clientForgotEmail" required placeholder="Seu email cadastrado">
                    </div>
                    <button type="submit" class="btn btn-primary">Enviar link de recuperação</button>
                    <p class="register-link">
                        <a href="#" onclick="showClientTab('login'); return false;">← Voltar ao login</a>
                    </p>
                </form>
            </div>
            <div id="clientLoginTab" class="client-tab active">
                <form id="clientLoginForm" onsubmit="loginClient(event)">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="clientLogin" required placeholder="Digite o email que recebeu no momento da compra">
                        <small style="display: block; margin-top: 5px; color: #666;">Email e senha são enviados quando a venda é registrada</small>
                    </div>
                    <div class="form-group">
                        <label>Senha</label>
                        <input type="password" id="clientPassword" required placeholder="Digite sua senha">
                    </div>
                    <button type="submit" class="btn btn-primary">Entrar</button>
                    <p class="forgot-password"><a href="#" onclick="showClientForgotPassword(); return false;">Esqueci minha senha</a></p>
                    <p class="admin-link">
                        <a href="admin-login.html"><i class="fas fa-cog"></i> Acesso administrativo</a>
                    </p>
                </form>
            </div>
            <div id="clientChangePasswordTab" class="client-tab" style="display:none">
                <form id="clientChangePasswordForm" onsubmit="handleFirstLoginChangePassword(event)">
                    <h3><i class="fas fa-key"></i> Alterar Senha (Primeiro Acesso)</h3>
                    <p class="form-hint">Por questões de segurança, você precisa definir uma nova senha.</p>
                    <div class="form-group">
                        <label>Nova Senha</label>
                        <input type="password" id="newPassword" required minlength="6" placeholder="Mínimo 6 caracteres">
                    </div>
                    <div class="form-group">
                        <label>Confirmar Nova Senha</label>
                        <input type="password" id="confirmNewPassword" required minlength="6" placeholder="Repita a senha">
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-check"></i> Alterar e Continuar
                    </button>
                </form>
            </div>
            <div id="clientDashboard" class="client-dashboard" style="display:none;">
                <div class="client-info-header">
                    <div>
                        <h3 id="clientWelcomeName">Bem-vindo!</h3>
                        <p id="clientWelcomeEmail"></p>
                    </div>
                    <button class="btn btn-secondary" onclick="logoutClient()">Sair</button>
                </div>
                <div class="client-dashboard-tabs">
                    <button class="dashboard-tab-btn active" onclick="showDashboardTab('properties')">Meus Imóveis</button>
                    <button class="dashboard-tab-btn" onclick="showDashboardTab('documents')">Documentos</button>
                    <button class="dashboard-tab-btn" onclick="showDashboardTab('repairs')">Reparos</button>
                    <button class="dashboard-tab-btn" onclick="showDashboardTab('manual')">
                        <i class="fas fa-book"></i> Manual
                    </button>
                    <button class="dashboard-tab-btn" onclick="showDashboardTab('newsletter')">
                        <i class="fas fa-newspaper"></i> Newsletter
                    </button>
                    <button class="dashboard-tab-btn" onclick="showDashboardTab('history')">Histórico</button>
                    <button class="dashboard-tab-btn" onclick="showDashboardTab('profile')">Meu Perfil</button>
                </div>
                <div id="clientPropertiesTab" class="dashboard-tab-content active">
                    <h4>Meus Imóveis</h4>
                    <div id="clientPropertiesList">
                        <p>Você ainda não possui imóveis cadastrados.</p>
                    </div>
                </div>
                <div id="clientDocumentsTab" class="dashboard-tab-content">
                    <h4>Documentos</h4>
                    <div id="clientDocumentsList">
                        <p>Nenhum documento disponível no momento.</p>
                    </div>
                </div>
                <div id="clientRepairsTab" class="dashboard-tab-content">
                    <h4>Solicitações de Reparo</h4>
                    <div class="repair-actions">
                        <button class="btn btn-primary" onclick="showRepairRequestForm()">
                            <i class="fas fa-tools"></i> Nova Solicitação de Reparo
                        </button>
                    </div>
                    <div id="clientRepairsList">
                        <p>Nenhuma solicitação de reparo no momento.</p>
                    </div>
                </div>
                <div id="clientManualTab" class="dashboard-tab-content">
                    <div class="manual-tab-header">
                        <h4><i class="fas fa-book"></i> Manual do Cliente</h4>
                        <p>Guia completo com garantias, dúvidas frequentes e informações sobre seu imóvel</p>
                    </div>
                    <div class="manual-quick-access">
                        <div class="quick-card" onclick="showClientManual()">
                            <i class="fas fa-book-open"></i>
                            <h5>Manual Completo</h5>
                            <p>Acesse o manual completo com todas as informações</p>
                        </div>
                        <div class="quick-card" onclick="showWarrantyInfo()">
                            <i class="fas fa-shield-alt"></i>
                            <h5>Prazos de Garantia</h5>
                            <p>Consulte os prazos de garantia de cada item</p>
                        </div>
                        <div class="quick-card" onclick="showFAQ()">
                            <i class="fas fa-question-circle"></i>
                            <h5>Dúvidas Frequentes</h5>
                            <p>Respostas para as principais dúvidas</p>
                        </div>
                        <div class="quick-card" onclick="showMaintenanceGuide()">
                            <i class="fas fa-tools"></i>
                            <h5>Guia de Manutenção</h5>
                            <p>Dicas de manutenção preventiva</p>
                        </div>
                    </div>
                </div>
                <div id="clientNewsletterTab" class="dashboard-tab-content">
                    <div class="newsletter-tab-header">
                        <h4><i class="fas fa-newspaper"></i> Newsletter Trimestral</h4>
                        <p>Receba trimestralmente dicas de manutenção, prevenção e curiosidades sobre construção civil</p>
                    </div>
                    <div class="newsletter-quick-access">
                        <div class="quick-card" onclick="showClientNewsletter()">
                            <i class="fas fa-newspaper"></i>
                            <h5>Última Newsletter</h5>
                            <p>Leia a newsletter mais recente</p>
                        </div>
                        <div class="newsletter-info">
                            <p><strong>Newsletter Trimestral</strong></p>
                            <p>Nossa newsletter é enviada trimestralmente com:</p>
                            <ul>
                                <li>Dicas de manutenção preventiva</li>
                                <li>Prevenção de problemas comuns</li>
                                <li>Curiosidades de construção civil</li>
                                <li>Soluções práticas para problemas</li>
                                <li>Dicas específicas para São Gonçalo, RJ</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="clientHistoryTab" class="dashboard-tab-content">
                    <h4>Histórico de Relacionamento</h4>
                    <div id="clientHistoryList">
                        <p>Nenhum histórico disponível.</p>
                    </div>
                </div>
                <div id="clientProfileTab" class="dashboard-tab-content">
                    <h4>Meu Perfil</h4>
                    <form id="clientProfileForm" onsubmit="updateClientProfile(event)">
                        <div class="form-group">
                            <label>Nome Completo</label>
                            <input type="text" id="profileName" required>
                        </div>
                        <div class="form-group">
                            <label>CPF</label>
                            <input type="text" id="profileCPF" readonly>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="profileEmail" required>
                        </div>
                        <div class="form-group">
                            <label>Telefone</label>
                            <input type="tel" id="profilePhone" required>
                        </div>
                        <div class="form-group">
                            <label>Endereço</label>
                            <input type="text" id="profileAddress">
                        </div>
                        <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                    </form>
                </div>
            </div>
        </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>B F Marques Empreendimentos</h3>
                    <p>Construindo o futuro com qualidade e inovação</p>
                </div>
                <div class="footer-links">
                    <h4>Links Úteis</h4>
                    <ul>
                        <li><a href="index.html#home">Início</a></li>
                        <li><a href="index.html#properties">Imóveis</a></li>
                        <li><a href="index.html#about">Sobre</a></li>
                        <li><a href="contato.html">Contato</a></li>
                    </ul>
                </div>
                <div class="footer-social">
                    <h4>Redes Sociais</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 B F Marques Empreendimentos - Todos os direitos reservados</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLoginModal()">&times;</span>
            <h2>Área do Corretor</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Senha:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="btn btn-primary">Entrar</button>
                <p class="forgot-password" style="margin-top:12px;margin-bottom:8px;">
                    <a href="#" onclick="showBrokerForgotPassword(); return false;" style="color:#3498db;font-size:0.95rem;"><i class="fas fa-key"></i> Esqueci minha senha</a>
                </p>
                <p class="register-link">
                    Não tem conta? <a href="#" onclick="showRegisterForm()">Cadastre-se aqui</a>
                </p>
                <p class="admin-link">
                    <a href="admin-login.html"><i class="fas fa-cog"></i> Acesso administrativo</a>
                </p>
            </form>

            <form id="registerForm" style="display: none;">
                <h2>Cadastro de Corretor</h2>
                <div class="form-group">
                    <label for="regName">Nome Completo:</label>
                    <input type="text" id="regName" name="name" required placeholder="Digite seu nome completo">
                </div>
                <div class="form-group">
                    <label for="regCPF">CPF:</label>
                    <input type="text" id="regCPF" name="cpf" required placeholder="000.000.000-00">
                </div>
                <div class="form-group">
                    <label for="regEmail">Email:</label>
                    <input type="email" id="regEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="regPhone">Telefone:</label>
                    <input type="tel" id="regPhone" name="phone" required placeholder="(00) 00000-0000">
                </div>
                <div class="form-group">
                    <label for="regCRECI">CRECI:</label>
                    <input type="text" id="regCRECI" name="creci" placeholder="Opcional">
                </div>
                <div class="form-group">
                    <label for="regPassword">Senha:</label>
                    <input type="password" id="regPassword" name="password" required>
                </div>
                <div class="form-group">
                    <label for="regConfirmPassword">Confirmar Senha:</label>
                    <input type="password" id="regConfirmPassword" name="confirmPassword" required>
                </div>
                <button type="submit" class="btn btn-primary">Cadastrar</button>
                <p class="register-link">
                    Já tem conta? <a href="#" onclick="showLoginForm()">Entre aqui</a>
                </p>
            </form>
            
            <form id="forgotPasswordForm" style="display: none;">
                <h2>Redefinir Senha</h2>
                <p class="form-hint">Digite o email cadastrado. Enviaremos um link para redefinir sua senha.</p>
                <div class="form-group">
                    <label for="forgotEmail">Email:</label>
                    <input type="email" id="forgotEmail" name="email" required placeholder="Seu email cadastrado">
                </div>
                <button type="submit" class="btn btn-primary">Enviar link de recuperação</button>
                <p class="register-link">
                    <a href="#" onclick="showLoginForm(); return false;">← Voltar ao login</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Repair Request Overlay (tela menor com layout da página principal) -->
    <div id="repairRequestModal" class="repair-overlay" style="display:none">
        <div class="repair-overlay-backdrop" onclick="closeRepairRequestModal()"></div>
        <div class="repair-overlay-panel">
            <header class="repair-overlay-header">
                <div class="repair-overlay-container">
                    <a class="repair-overlay-brand" href="index.html" aria-label="Início">
                        <img src="assets/images/logo-bf-marques.png" alt="B F Marques" class="repair-overlay-logo">
                    </a>
                    <button type="button" class="repair-overlay-close" onclick="closeRepairRequestModal()" aria-label="Fechar">
                        <i class="fas fa-times"></i> Fechar
                    </button>
                </div>
            </header>
            <section class="repair-overlay-hero">
                <div class="repair-overlay-container">
                    <h1><i class="fas fa-tools"></i> Nova Solicitação de Reparo</h1>
                    <p>Descreva o problema e envie fotos ou vídeos para nossa equipe técnica</p>
                </div>
            </section>
            <section class="repair-overlay-content">
                <div class="repair-overlay-container">
                    <form id="repairRequestForm" onsubmit="submitRepairRequest(event); return false;" class="repair-overlay-form">
                        <div class="form-group">
                            <label>Selecione o Imóvel *</label>
                            <select id="repairProperty" required>
                                <option value="">Selecione um imóvel</option>
                            </select>
                            <div id="repairNoPropertiesAlert" class="repair-no-properties-alert" style="display:none;margin-top:8px;padding:12px;background:#fff3cd;border:1px solid #ffc107;border-radius:6px;color:#856404;">
                                <i class="fas fa-exclamation-triangle"></i> Você não possui imóveis cadastrados. Entre em contato com a empresa para cadastrar seu imóvel antes de solicitar reparos.
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Descrição do Problema *</label>
                            <textarea id="repairDescription" rows="4" required placeholder="Descreva detalhadamente o problema que precisa ser reparado..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Localização do Problema *</label>
                            <input type="text" id="repairLocation" required placeholder="Ex: Sala, Cozinha, Banheiro, Quarto, etc.">
                        </div>
                        <div class="form-group">
                            <label>Foto e/ou Vídeo do Problema *</label>
                            <div class="file-upload-wrapper">
                                <label class="file-upload-area" id="fileUploadArea" for="repairFile">
                                    <input type="file" id="repairFile" accept="image/*,video/mp4,video/webm" multiple onchange="handleFileSelect(event)">
                                    <span class="upload-placeholder">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <p>Clique para selecionar arquivos</p>
                                        <small><strong>Mínimo 3 fotos, máximo 5 arquivos</strong> (fotos + vídeo). Imagens até 10MB, vídeo até 50MB.</small>
                                    </span>
                                </label>
                                <div id="repairFileHint" class="file-hint" style="margin-top:8px;font-size:0.85rem;color:#666;"></div>
                                <div class="file-preview" id="filePreview" style="display:none;">
                                    <div id="filePreviewList" class="file-preview-grid"></div>
                                    <button type="button" class="btn-remove-file" onclick="removeFile()">
                                        <i class="fas fa-times"></i> Remover Tudo
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Prioridade</label>
                            <select id="repairPriority">
                                <option value="normal">Normal</option>
                                <option value="alta">Alta</option>
                                <option value="urgente">Urgente</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="closeRepairRequestModal()">Cancelar</button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i> Enviar Solicitação
                            </button>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-storage-compat.js"></script>
    <script src="js/firebase.js"></script>
    <script src="js/firebase-service.js"></script>
    <script src="js/main.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/properties.js"></script>
    <script src="js/reservations.js"></script>
    <script src="js/property-units.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/documents.js"></script>
    <script src="js/sample-data.js"></script>
    <script src="js/mcmv-calculadora.js"></script>
    <script src="js/simulador-interativo.js"></script>
    <script src="js/property-sales.js"></script>
    <script src="js/email-service.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/client-area.js"></script>
    <script src="js/repair-requests.js"></script>
    <script src="js/client-manual.js"></script>
    <script src="js/contact-forms.js"></script>
    <script src="js/newsletter.js"></script>
    <script src="js/visitor-tracker.js"></script>
</body>
</html>
